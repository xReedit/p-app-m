<div class="p-4">
    <div>
        <p class="fs-18 fw-600"><i class="fa fa-arrow-left pr-2" (click)="cerrarDlg()"></i> Número de celular <i class="fa fa-phone ml-2"></i></p>
    </div>

    <mat-form-field class="w-100">
        <input type="number" matInput
        placeholder="Telefono" 
        (keyup) = "verificarNum(telefono.value)" 
        [value] = "data.numberphone"
        #telefono required>
    </mat-form-field>
    <p *ngIf="isNumberSuccess ===2 " class="text-danger">Número no valido.</p>
    <br>
    <button 
        mat-flat-button color="primary"
        [disabled]="!isValidForm || isContandoShow"
        (click)="enviarCodigoSMS()"        
    >   
        <ng-container *ngIf="isContandoShow; else elseTemplateMsjVerificacion">
            <span class="mr-2" >{{ numSegundosActivarBtn | number: '2.'}}</span>
            Enviando Mensaje...
        </ng-container>
        <ng-template #elseTemplateMsjVerificacion>
            <ng-container *ngIf="intentoVerificacion === 0; else elseTemplateMsjNuevamente">
                Enviar código de verificación
            </ng-container>
            <ng-template #elseTemplateMsjNuevamente>
                Enviar código nuevamente
            </ng-template>
        </ng-template>
        
        <!-- Verificar telefono -->
    </button>
    <p class="fs-13 text-secondary mt-1">Recibira el código de verificación por WhatsApp, sino tiene entonces recibira el código por SMS</p>
    
</div>
<hr>
<div class="p-4" *ngIf="isSendSMS">
    <p class="text-success fs-600">En breve recibiras un mensaje. Escribelo el codigo aqui:</p>
    <mat-form-field class="w-100">
        <input type="number" matInput 
        placeholder="Codigo" #txtCodigo>
    </mat-form-field>
    <br>
    <button 
        mat-flat-button color="primary"        
        (click)="verificarCodigoSMS(txtCodigo.value)"   
        [disabled]="loader !== 0 && loader !== 3"
    >
        <ng-container *ngIf="loader === 0 || loader === 3; else elseTemplate">
            Verificar Codigo
        </ng-container>
        <ng-template #elseTemplate>
            <ng-container *ngIf="loader === 1; else elseTemplateHecho">
                <i class="fa fa-spinner fa-spin fa-fw"></i>
                Verificando ...
            </ng-container>
            <ng-template #elseTemplateHecho>
                <i class="fa fa-check"></i>
                Hecho
            </ng-template> 
        </ng-template>            
    </button>    
    <p *ngIf="loader > 0 && !isVerificacionOk" class="text-danger fw-600 pt-2">Codigo ingresado incorrecto.</p>
</div>
<!-- <hr> -->